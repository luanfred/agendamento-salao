<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <title>Leila Salão</title>
    <!-- HTML5 Shim and Respond.js IE9 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--                                                           [if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]                                                           -->
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="CodedThemes" />
    <meta name="keywords" content=" Admin , Responsive, Landing, Bootstrap, App, Template, Mobile, iOS, Android, apple, creative app" />
    <meta name="author" content="CodedThemes" />
    <!-- Favicon icon -->
    <link rel="icon" href="{% static 'images/main-logo.png' %}" type="image/x-icon" />
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800" rel="stylesheet" />
    <!-- Required Fremwork -->
    {% comment %} <link rel="stylesheet" type="text/css" href="css/bootstrap/css/bootstrap.min.css" /> {% endcomment %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap/css/bootstrap.min.css' %}" />
    <!-- themify-icons line icon -->
    <link rel="stylesheet" type="text/css" href="{% static 'icon/themify-icons/themify-icons.css' %}" />
    <!-- ico font -->
    <link rel="stylesheet" type="text/css" href="{% static 'icon/icofont/css/icofont.css' %}" />
    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />
  </head>

  <body class="fix-menu">
    <!-- Pre-loader start -->
    <div class="theme-loader">
      <div class="ball-scale">
        <div class="contain">
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
          <div class="ring">
            <div class="frame"></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Pre-loader end -->

    <section class="login p-fixed d-flex text-center bg-primary common-img-bg">
      <!-- Container-fluid starts -->
      <div class="container">
        <div class="row">
          <div class="col-sm-12">
            <!-- Authentication card start -->
            <div class="login-card card-block auth-body mr-auto ml-auto">
              <form class="md-float-material" method="post" id="formRegistrar">
                <input type="text" value="N" id="is-funcionario" name="is-funcionario" hidden />

                {% csrf_token %}
                <div class="auth-box">
                  <div class="m-b-5">
                    <div class="text-center">
                      <img src="{% static 'images/auth/main-logo-transparent.png' %}" alt="logo.png" />
                    </div>
                    <div class="col-md-12">
                      <h3 class="text-left txt-primary">Cadastre-se. É rápido e fácil!</h3>
                    </div>
                  </div>
                  {% if messages %}
                    {% for message in messages %}
                      {% if message.tags == 'error' %}
                        <div class="alert alert-danger" role="alert">
                          <p>{{ message }}</p>
                        </div>
                      {% elif message.tags == 'success' %}
                        <div class="alert alert-success" role="alert">
                          <p>{{ message }}</p>
                        </div>
                      {% endif %}
                    {% endfor %}
                  {% endif %}
                  <hr />
                  <div class="row m-t-25 text-left">
                    <div class="col-md-12">
                      <div class="checkbox-fade fade-in-primary">
                        <label>
                          <input type="checkbox" value="S" id="checkbox-funcionario" name="checkbox-funcionario" />
                          <span class="cr"><i class="cr-icon icofont icofont-ui-check txt-primary"></i></span>
                          <span class="text-inverse">Cadastre-se como funcionário</span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="input-group">
                    {{ form.primeiro_nome }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group">
                    {{ form.ultimo_nome }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group">
                    {{ form.telefone }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group">
                    {{ form.email }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group">
                    {{ form.senha }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group">
                    {{ form.confirmar_senha }}
                    <span class="md-line"></span>
                  </div>

                  <div class="input-group" id="div_chave_acesso" hidden>
                    <input type="text" class="form-control" name="chave_acesso" id="chave_acesso" placeholder="Chave de Acesso" />
                    <span class="md-line"></span>
                  </div>

                  <div class="row m-t-30">
                    <div class="col-md-12">
                      <button type="submit" class="btn btn-primary btn-md btn-block waves-effect text-center m-b-20">Cadastar</button>
                    </div>
                  </div>
                </div>
              </form>
              <!-- end of form -->
            </div>
            <!-- Authentication card end -->
          </div>
          <!-- end of col-sm-12 -->
        </div>
        <!-- end of row -->
      </div>
      <!-- end of container-fluid -->
    </section>

    <script type="text/javascript" src="{% static 'js/jquery/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/jquery-ui/jquery-ui.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/popper.js/popper.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/bootstrap/js/bootstrap.min.js' %}"></script>
    <!-- jquery slimscroll js -->
    <script type="text/javascript" src="{% static 'js/jquery-slimscroll/jquery.slimscroll.js' %}"></script>
    <!-- modernizr js -->
    <script type="text/javascript" src="{% static 'js/modernizr/modernizr.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/modernizr/css-scrollbars.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/common-pages.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script>
      $('#id_telefone')
        .mask('(00) 00000-0000', {
          placeholder: '(__) _____-____'
        })
        .on('blur', function () {
          var $this = $(this)
          if ($this.val().length == 15) {
            $this.mask('(00) 00000-0000')
          } else {
            $this.mask('(00) 0000-00009')
          }
        })
      
      $('#checkbox-funcionario').change(function () {
        if ($(this).is(':checked')) {
          $('#div_chave_acesso').removeAttr('hidden') // Exibe o campo
          $('#chave_acesso').attr('required', 'required') // Torna obrigatório
          $('#is-funcionario').val('S')
        } else {
          $('#div_chave_acesso').attr('hidden', 'hidden') // Oculta o campo
          $('#chave_acesso').removeAttr('required') // Remove obrigatoriedade
          $('#is-funcionario').val('N')
        }
      })
    </script>
  </body>
</html>
